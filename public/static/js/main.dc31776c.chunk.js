(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=(n(91),n(3)),s=n(116),i=n(110),l=n(89),o=n(108),j=n(117),d=n(8),u=n(21),b=n(18),m=n(86),h=n(22),O=n(9),x=n(2),f=n(115),p=n(0),v=c.a.createContext({user:{},errors:[],createNewUser:function(){},loginUser:function(){},logoutUser:function(){},updateUser:function(){},deleteUser:function(){}});function g(e){var t=e.children,n=Object(d.o)(),c=Object(a.useState)(null),s=Object(r.a)(c,2),i=s[0],l=s[1],o=Object(a.useState)([]),j=Object(r.a)(o,2),u=j[0],b=j[1];Object(a.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return l(e)}))}))}),[]);var m={user:i,errors:u,createNewUser:function(e){fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){l(e),n("/account")})):e.json().then((function(e){return b(e.errors)}))}))},loginUser:function(e){fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){return l(e)})):e.json().then((function(e){return b(e.errors)}))}))},logoutUser:function(){fetch("/logout",{method:"DELETE"}),l(null)},updateUser:function(e,t){fetch("/users/".concat(i.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?e.json().then((function(e){l(e)})):e.json().then((function(e){return b(e.errors)}))}))},deleteUser:function(e){fetch("users/".concat(e),{method:"DELETE"}),l(null),n("/home")}};return Object(p.jsx)(v.Provider,{value:m,children:t})}var y=function(e){var t=e.closeModal,n=Object(a.useContext)(v),c=n.loginUser,s=n.errors,i=Object(a.useState)({username:"",password:""}),l=Object(r.a)(i,2),j=l[0],d=l[1];function u(e){d(Object(x.a)(Object(x.a)({},j),{},Object(O.a)({},e.target.name,e.target.value)))}return Object(p.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),c(j),t()},children:[Object(p.jsxs)(f.a.Group,{className:"mb-3",children:[Object(p.jsx)(f.a.Label,{children:"Username:"}),Object(p.jsx)(f.a.Control,{name:"username",type:"text",placeholder:"Enter Username",value:j.username,onChange:u})]}),Object(p.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(p.jsx)(f.a.Label,{children:"Password:"}),Object(p.jsx)(f.a.Control,{name:"password",type:"password",placeholder:"Password",value:j.password,onChange:u})]}),Object(p.jsx)(f.a.Text,{children:Object(p.jsx)("ul",{children:s.map((function(e){return Object(p.jsxs)("li",{style:{color:"red"},children:[" ",Object(p.jsxs)("strong",{children:[" ",e," "]})," "]},e)}))})}),Object(p.jsx)(o.a,{variant:"primary",type:"submit",children:"Submit"})]})},C=n(14),N=n(88),w=n(120),I=n(109),_=n(118),k=c.a.createContext({items:[],errors:[],addNewItem:function(){},updateItem:function(){},deleteItem:function(){}});function S(e){var t=e.children,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)([]),o=Object(r.a)(l,2),j=o[0],d=o[1];Object(a.useEffect)((function(){fetch("/items").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]);var u={items:s,errors:j,addNewItem:function(e){fetch("/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.ok?e.json().then((function(e){return i([].concat(Object(C.a)(s),[e]))})):e.json().then((function(e){return d(e.errors)}))}))},updateItem:function(e,t){fetch("/items/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?e.json().then((function(e){var t=s.map((function(t){return t.id===e.id?e:t}));i(t)})):e.json().then((function(e){return d(e.errors)}))}))},deleteItem:function(e){fetch("/items/".concat(e),{method:"DELETE"});var t=s.filter((function(t){return t.id!==e}));i(t)}};return Object(p.jsx)(k.Provider,{value:u,children:t})}function T(e){return new Intl.NumberFormat(void 0,{currency:"USD",style:"currency"}).format(e)}var A=function(e){var t=e.item,n=t.id,c=t.quantity,r=Object(a.useContext)(k).items,s=Object(a.useContext)(L).removeItemFromCart,i=r.find((function(e){return e.id===n}));if(null===t)return null;var l=c*i.price;return Object(p.jsxs)(w.a,{direction:"horizontal",gap:2,className:"d-flex align-items-center",children:[Object(p.jsx)("img",{src:i.photo_url,style:{width:"125px",height:"75px",objectFit:"cover"},alt:"Item for sale"}),Object(p.jsxs)("div",{className:"me-auto",children:[Object(p.jsxs)("div",{children:[i.item_name," "]}),Object(p.jsxs)("div",{className:"text-muted",style:{fontSize:".75rem"},children:[T(i.price)," x ",c]}),Object(p.jsx)("div",{children:T(l)})]}),Object(p.jsx)(o.a,{variant:"outline-danger",size:"sm",className:"justify-content-right",onClick:function(){return s(t.id)},children:"\xd7"})]})};var F=function(e){var t=e.isOpen,n=Object(a.useContext)(v).user,c=Object(a.useContext)(L),s=c.closeCart,i=c.cartItems,l=c.cartQuantity,j=Object(a.useContext)(k).items,d=Object(a.useState)(!1),u=Object(r.a)(d,2),b=u[0],m=u[1],h=function(){return m(!b)},O=i.reduce((function(e,t){var n=j.find((function(e){return e.id===t.id}));return e+t.quantity*((null===n||void 0===n?void 0:n.price)||0)}),0),x=i.map((function(e){var t=j.find((function(t){return t.id===e.id}));return void 0===t?null:{price:t.price_id,quantity:e.quantity}})),f=i.map((function(e){var t=j.find((function(t){return t.id===e.id}));return void 0===t?null:{item_id:e.id,cost:t.price*e.quantity,quantity:e.quantity}}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(N.a,{className:"w-40",show:t,onHide:s,placement:"end",children:[Object(p.jsx)(N.a.Header,{closeButton:!0,children:Object(p.jsx)(N.a.Title,{children:"Cart"})}),Object(p.jsxs)(N.a.Body,{children:[Object(p.jsxs)(w.a,{gap:3,className:"mb-3",children:[i.map((function(e){return Object(p.jsx)(A,{item:e},e.id)})),Object(p.jsxs)("div",{className:"ms-auto fw-bold fs-5",children:["Total: ",T(O)]})]}),Object(p.jsx)(w.a,{children:Object(p.jsx)(o.a,{onClick:function(){n?fetch("/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:{number_of_items:l,total_cost:O},order_items:f,line_items:x.map((function(e){return e}))})}).then((function(e){return e.json()})).then((function(e){return window.location.href=e[0].redirectUrl})):(s(),h())},children:"Checkout"})})]})]}),Object(p.jsx)(I.a,{position:"top-center",children:Object(p.jsxs)(_.a,{show:b,onClose:h,delay:5e3,autohide:!0,children:[Object(p.jsx)(_.a.Header,{children:Object(p.jsx)("span",{className:"me-auto",children:"Error:"})}),Object(p.jsx)(_.a.Body,{children:"Please login or Sign up to complete checkout"})]})})]})},L=Object(a.createContext)({cartItems:[],getItemQuantityInCart:function(){},addItemToCart:function(){},removeItemFromCart:function(){},deleteAllOfAnItemFromCart:function(){},openCart:function(){},closeCart:function(){},cartQuantity:Number}),E=JSON.parse(localStorage.getItem("cartItems")||"[]");function M(e){var t=e.children,n=Object(a.useState)(E),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(!1),o=Object(r.a)(l,2),j=o[0],d=o[1];Object(a.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(s))}),[s]);function u(e){var t,n=null===(t=s.find((function(t){return t.id===e})))||void 0===t?void 0:t.quantity;return void 0===n?0:n}function b(e){var t=s.filter((function(t){return t.id!==e}));i(t)}var m=s.reduce((function(e,t){return t.quantity+e}),0),h={cartItems:s,getItemQuantityInCart:u,addItemToCart:function(e){if(0===u(e))i([].concat(Object(C.a)(s),[{id:e,quantity:1}]));else{var t=s.map((function(t){return t.id===e?Object(x.a)(Object(x.a)({},t),{},{quantity:t.quantity+1}):t}));i(t)}},removeItemFromCart:function(e){if(1===u(e))b(e);else{var t=s.map((function(t){return t.id===e?Object(x.a)(Object(x.a)({},t),{},{quantity:t.quantity-1}):t}));i(t)}},deleteAllOfAnItemFromCart:b,cartQuantity:m,openCart:function(){return d(!0)},closeCart:function(){return d(!1)}};return Object(p.jsxs)(L.Provider,{value:h,children:[t,Object(p.jsx)(F,{isOpen:j})]})}var G=n.p+"static/media/wxman-knits-logos-bw-1.6076f124.png";function P(){var e=Object(d.o)(),t=Object(a.useContext)(v),n=t.user,c=t.logoutUser,O=Object(a.useContext)(L),x=O.cartQuantity,f=O.openCart,g=Object(a.useState)(!1),C=Object(r.a)(g,2),N=C[0],w=C[1],I=Object(a.useState)(!1),_=Object(r.a)(I,2),k=_[0],S=_[1],T=function(){return S(!1)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(s.a,{className:"bg-white shadow-sm mb-3 d-flex",children:[Object(p.jsx)(s.a.Brand,{href:"/",children:Object(p.jsx)("img",{src:G,width:"150",height:"75",alt:"Weather man knits logo with yarn tornado and needles crossed for x"})}),Object(p.jsxs)(i.a,{className:"mx-0",children:[Object(p.jsx)(s.a.Toggle,{onClick:function(){return w(!N&&"expanded")},"aria-controls":"responsive-navbar-nav"}),Object(p.jsxs)(s.a.Collapse,{id:"responsive-navbar-nav",children:[Object(p.jsxs)(l.a,{className:"me-auto justify-content-end",style:{fontFamily:"Indie Flower",fontSize:"large",fontWeight:"bold"},children:[Object(p.jsx)(l.a.Link,{className:"navbar-navlinks",onClick:function(){return w(!1)},as:u.b,to:"/",children:"Home"}),Object(p.jsx)(l.a.Link,{className:"navbar-navlinks",onClick:function(){return w(!1)},as:u.b,to:"/shop",children:"Shop"}),Object(p.jsx)(l.a.Link,{className:"navbar-navlinks",onClick:function(){return w(!1)},as:u.b,to:"/account",children:"My Account"})]}),Object(p.jsxs)(o.a,{variant:"outline-primary",onClick:function(){n?e("/account"):S(!0)},title:"My Account",style:{fontFamily:"Kanit"},children:[Object(p.jsx)(b.a,{icon:m.a}),n?" ".concat(n.username):" Sign in"]}),Object(p.jsx)(o.a,{className:"ms-3",variant:"outline-danger",title:"Log out",onClick:function(){return c()},children:Object(p.jsx)(b.a,{icon:h.d,size:"sm"})}),Object(p.jsxs)(o.a,{className:"ms-2 rounded-circle",variant:"outline-primary",style:{height:"3rem",width:"3rem",position:"relative"},onClick:f,title:"My Cart",children:[Object(p.jsx)(b.a,{icon:h.a,size:"lg"}),x>0?Object(p.jsx)("div",{className:"rounded-circle bg-danger d-flex justify-content-center align-items-center",style:{color:"white",width:"1.5rem",height:"1.5rem",position:"absolute",top:0,right:0,transform:"translate(15px)"},children:x}):null]})]})]})]}),Object(p.jsxs)(j.a,{show:k,onHide:T,children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"Sign in to your account:"})}),Object(p.jsx)(j.a.Body,{children:Object(p.jsx)(y,{closeModal:T})}),Object(p.jsxs)(j.a.Footer,{children:[Object(p.jsx)("p",{children:"Dont have an account?"}),Object(p.jsx)(u.c,{to:"/new_user",onClick:T,children:"Click here to create an account!"})]})]})]})}var U=n(113),D=n(121),z=c.a.createContext();function q(e){var t=e.children,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){fetch("/categories").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(p.jsx)(z.Provider,{value:{categories:s,setCategories:i},children:t})}var W=n(112),H=n(111),B=n(85);var R=function(e){var t=e.item,n=e.show,c=e.handleClose,s=Object(a.useContext)(k),i=s.updateItem,l=s.errors,d=Object(a.useState)({item_name:t.item_name,price:t.price,description:t.description,quantity_available:t.quantity_available}),u=Object(r.a)(d,2),b=u[0],m=u[1];function h(e){m(Object(x.a)(Object(x.a)({},b),{},Object(O.a)({},e.target.name,e.target.value)))}return Object(p.jsxs)(j.a,{show:n,onHide:c,size:"lg",children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"Update an Item:"})}),Object(p.jsxs)(f.a,{className:"d-flex flex-column m-3",onSubmit:function(e){e.preventDefault(),i(t.id,b),c()},children:[Object(p.jsxs)(H.a,{className:"mb-3",children:[Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Name:"}),Object(p.jsx)(f.a.Control,{name:"item_name",type:"text",value:b.item_name,onChange:h})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Price:"}),Object(p.jsx)(f.a.Control,{name:"price",type:"number",min:"0",step:"0.01",value:b.price,onChange:function(e){m(Object(x.a)(Object(x.a)({},b),{},Object(O.a)({},e.target.name,parseFloat(e.target.value))))}})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Quantity Available:"}),Object(p.jsx)(f.a.Control,{name:"quantity_available",type:"number",min:"0",step:"1",value:b.quantity_available,onChange:function(e){m(Object(x.a)(Object(x.a)({},b),{},Object(O.a)({},e.target.name,parseInt(e.target.value))))}})]})]}),Object(p.jsx)(H.a,{className:"mb-3",children:Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Description"}),Object(p.jsx)(f.a.Control,{name:"description",as:"textarea",rows:4,placeholder:"Enter a brief description about the item",value:b.description,onChange:h})]})}),Object(p.jsx)(f.a.Text,{children:Object(p.jsx)("ul",{children:l.map((function(e){return Object(p.jsx)("li",{style:{color:"red"},children:Object(p.jsx)("strong",{children:e})})}))})}),Object(p.jsx)("div",{className:"d-flex mt-3 justify-content-center",children:Object(p.jsx)(o.a,{type:"submit",children:"Update Item"})})]})]})};var K=function(e){var t=e.item,n=Object(a.useState)(!1),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useContext)(k).deleteItem;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{variant:"success",size:"sm",title:"Edit Item",onClick:function(){return i(!0)},children:Object(p.jsx)(b.a,{icon:h.c,size:"xs"})}),Object(p.jsx)(o.a,{variant:"danger",size:"sm",title:"Delete Item",onClick:function(){return l(t.id)},children:Object(p.jsx)(b.a,{icon:h.f,size:"xs"})}),Object(p.jsx)(R,{item:t,show:s,handleClose:function(){return i(!1)}})]})};var J=function(e){var t=e.category.category_name,n=Object(a.useContext)(k).items.filter((function(e){return e.category_name===t}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(w.a,{gap:2,children:[Object(p.jsx)("h2",{children:t}),Object(p.jsxs)(W.a,{striped:!0,hover:!0,bordered:!0,responsive:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Item Name:"}),Object(p.jsx)("th",{children:"Description:"}),Object(p.jsx)("th",{children:"Price:"}),Object(p.jsx)("th",{children:"Quantity Available:"}),Object(p.jsx)("th",{children:"Actions:"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item_name}),Object(p.jsx)("td",{children:e.description}),Object(p.jsx)("td",{children:T(e.price)}),Object(p.jsx)("td",{children:e.quantity_available}),Object(p.jsx)("td",{children:Object(p.jsx)(K,{item:e})})]},e.id)}))})]})]})})},Q=function(e){var t=e.cloudinaryData,n=e.addPhotoUrl,c=Object(a.useRef)(),r=Object(a.useRef)(),s=t.cloud_name,i=t.upload_preset;return Object(a.useEffect)((function(){c.current=window.cloudinary,r.current=c.current.createUploadWidget({cloudName:"".concat(s),uploadPreset:"".concat(i)},(function(e,t){!e&&t&&"success"===t.event&&n(t.info.secure_url)}))}),[s,i,n]),Object(p.jsx)(o.a,{onClick:function(){return r.current.open()},children:"Upload"})};var V=function(e){var t=e.show,n=e.handleClose,c=Object(d.o)(),s=Object(a.useContext)(k),i=s.addNewItem,l=s.errors,u=Object(a.useContext)(z).categories,m=Object(a.useState)({}),v=Object(r.a)(m,2),g=v[0],y=v[1],C=u.map((function(e){return{id:e.id,category_name:e.category_name}}));Object(a.useEffect)((function(){fetch("/data").then((function(e){return e.json()})).then((function(e){return y(e)}))}),[]);var N=Object(a.useState)({item_name:"",price:0,description:"",quantity_available:0,photo_url:"",category_id:1}),w=Object(r.a)(N,2),I=w[0],_=w[1],S=u.find((function(e){return e.id===I.category_id||null}));function T(e){_(Object(x.a)(Object(x.a)({},I),{},Object(O.a)({},e.target.name,e.target.value)))}function A(e){_(Object(x.a)(Object(x.a)({},I),{},Object(O.a)({},e.target.name,parseInt(e.target.value))))}return Object(p.jsxs)(j.a,{show:t,onHide:n,size:"lg",children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"Create a new item"})}),Object(p.jsxs)(f.a,{className:"d-flex flex-column m-3",onSubmit:function(e){e.preventDefault(),i(I),n(),c("/shop/".concat(S.category_name))},children:[Object(p.jsxs)(H.a,{className:"mb-3",children:[Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Name:"}),Object(p.jsx)(f.a.Control,{name:"item_name",type:"text",value:I.item_name,onChange:T})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Price:"}),Object(p.jsx)(f.a.Control,{name:"price",type:"number",min:"0",step:"0.01",value:I.price,onChange:function(e){_(Object(x.a)(Object(x.a)({},I),{},Object(O.a)({},e.target.name,parseFloat(e.target.value))))}})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Quantity Available:"}),Object(p.jsx)(f.a.Control,{name:"quantity_available",type:"number",min:"0",step:"1",value:I.quantity_available,onChange:A})]})]}),Object(p.jsx)(H.a,{className:"mb-3",children:Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Item Description"}),Object(p.jsx)(f.a.Control,{name:"description",as:"textarea",rows:4,placeholder:"Enter a brief description about the item",value:I.description,onChange:T})]})}),Object(p.jsx)(H.a,{className:"mb-3",children:Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Category:"}),Object(p.jsx)(f.a.Select,{name:"category_id",value:I.category_id,onChange:A,children:C.map((function(e){return Object(p.jsx)("option",{value:e.id,children:e.category_name},e.id)}))})]})}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Text,{className:"me-3",children:"Upload a photo:"}),I.photo_url?Object(p.jsx)(b.a,{icon:h.b,beatFade:!0,size:"sm"}):Object(p.jsx)(Q,{cloudinaryData:g,addPhotoUrl:function(e){_(Object(x.a)(Object(x.a)({},I),{},{photo_url:e}))}})]}),Object(p.jsx)(f.a.Text,{children:Object(p.jsx)("ul",{children:l.map((function(e){return Object(p.jsx)("li",{style:{color:"red"},children:Object(p.jsx)("strong",{children:e})})}))})}),Object(p.jsx)("div",{className:"d-flex mt-3 justify-content-center",children:Object(p.jsx)(o.a,{type:"submit",children:"Add new item"})})]})]})};var Y=function(){var e=Object(a.useContext)(z).categories,t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)("h1",{className:"mb-2",children:"Inventory Management:"}),Object(p.jsxs)(o.a,{className:"me-4",onClick:function(){return s(!0)},title:"Add a new item",children:[Object(p.jsx)(b.a,{icon:h.e,size:"xl"})," ","Add New Item"]})]}),e.map((function(e){return Object(p.jsx)(J,{category:e},e.id)})),Object(p.jsx)(V,{show:c,handleClose:function(){return s(!1)}})]})},X=[{value:"AK",name:"Alaska"},{value:"AL",name:"Alabama"},{value:"AR",name:"Arkansas"},{value:"AZ",name:"Arizona"},{value:"CA",name:"California"},{value:"CO",name:"Colorado"},{value:"CT",name:"Connecticut"},{value:"DC",name:"District of Columbia"},{value:"DE",name:"Delaware"},{value:"FL",name:"Florida"},{value:"GA",name:"Georgia"},{value:"HI",name:"Hawaii"},{value:"IA",name:"Iowa"},{value:"ID",name:"Idaho"},{value:"IL",name:"Illinois"},{value:"IN",name:"Indiana"},{value:"KS",name:"Kansas"},{value:"KY",name:"Kentucky"},{value:"LA",name:"Louisiana"},{value:"MA",name:"Massachusetts"},{value:"MD",name:"Maryland"},{value:"ME",name:"Maine"},{value:"MI",name:"Michigan"},{value:"MN",name:"Minnesota"},{value:"MO",name:"Missouri"},{value:"MS",name:"Mississippi"},{value:"MT",name:"Montana"},{value:"NC",name:"North Carolina"},{value:"ND",name:"North Dakota"},{value:"NE",name:"Nebraska"},{value:"NH",name:"New Hampshire"},{value:"NJ",name:"New Jersey"},{value:"NM",name:"New Mexico"},{value:"NV",name:"Nevada"},{value:"NY",name:"NewYork"},{value:"OH",name:"Ohio"},{value:"OK",name:"Oklahoma"},{value:"OR",name:"Oregon"},{value:"PA",name:"Pennsylvania"},{value:"RI",name:"Rhode Island"},{value:"SC",name:"South Carolina"},{value:"SD",name:"South Dakota"},{value:"TN",name:"Tennessee"},{value:"TX",name:"Texas"},{value:"UT",name:"Utah"},{value:"VA",name:"Virginia"},{value:"VT",name:"Vermont"},{value:"WA",name:"Washington"},{value:"WI",name:"Wisconsin"},{value:"WV",name:"West Virginia"},{value:"WY",name:"Wyoming"}];var Z=function(){var e=Object(a.useContext)(v),t=e.user,n=e.updateUser,c=e.errors,s=e.deleteUser,i=t.id,l=t.username,j=t.full_name,d=t.address,u=t.city,b=t.state,m=t.zip_code,h=t.email,g=Object(a.useState)({username:l,full_name:j,address:d,city:u,state:b,zip_code:m,email:h}),y=Object(r.a)(g,2),C=y[0],N=y[1];function w(e){N(Object(x.a)(Object(x.a)({},C),{},Object(O.a)({},e.target.name,e.target.value)))}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),n(i,C)},children:[Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"Name:"}),Object(p.jsx)(B.a,{sm:"10",children:Object(p.jsx)(f.a.Control,{plaintext:!0,readOnly:!0,defaultValue:C.full_name})})]}),Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"Username:"}),Object(p.jsx)(B.a,{sm:"10",children:Object(p.jsx)(f.a.Control,{plaintext:!0,readOnly:!0,defaultValue:C.username})})]}),Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"Email Address:"}),Object(p.jsx)(B.a,{sm:"10",children:Object(p.jsx)(f.a.Control,{name:"email",type:"email",value:C.email,onChange:w})})]}),Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"Address:"}),Object(p.jsx)(B.a,{sm:"10",children:Object(p.jsx)(f.a.Control,{name:"address",value:C.address,onChange:w})})]}),Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"City:"}),Object(p.jsx)(B.a,{children:Object(p.jsx)(f.a.Control,{name:"city",value:C.city,onChange:w})}),Object(p.jsx)(B.a,{children:Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"State:"})}),Object(p.jsx)(B.a,{children:Object(p.jsx)(f.a.Select,{name:"state",value:C.state,onChange:w,children:X.map((function(e){return Object(p.jsx)("option",{value:e.name,children:e.name},e.name)}))})})]}),Object(p.jsxs)(f.a.Group,{as:H.a,className:"mb-3",children:[Object(p.jsx)(B.a,{children:Object(p.jsx)(f.a.Label,{column:!0,sm:"2",children:"Zip Code:"})}),Object(p.jsx)(B.a,{sm:"10",children:Object(p.jsx)(f.a.Control,{name:"zip_code",value:C.zip_code,onChange:w})})]}),Object(p.jsx)(f.a.Text,{children:Object(p.jsx)("ul",{children:c.map((function(e){return Object(p.jsx)("li",{style:{color:"red"},children:Object(p.jsx)("strong",{children:e})},e)}))})}),Object(p.jsx)(o.a,{type:"submit",children:"Edit Profile"}),Object(p.jsx)(o.a,{onClick:function(){return s(t.id)},className:"ms-3",children:"Delete my profile"})]})})},$=n(119);function ee(e){var t=e.split(/[- : T]/);return new Date(t[0],t[1]-1,t[2]).toDateString()}var te=function(e){var t=e.order,n=t.id,a=t.number_of_items,c=t.order_items,r=t.total_cost,s=t.created_at;return Object(p.jsx)($.a,{className:"w-50",children:Object(p.jsxs)($.a.Body,{children:[Object(p.jsxs)($.a.Title,{children:["Order # ",n," "]}),Object(p.jsxs)("span",{children:["Purchased : ",ee(s)]}),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{children:["Status: ",Object(p.jsx)(b.a,{icon:h.b,size:"lg",style:{color:"green"}})," ",Object(p.jsx)("span",{children:"Paid"})]}),Object(p.jsx)("br",{}),"Items Purchased:",Object(p.jsx)("ul",{children:c.map((function(e){return Object(p.jsxs)("li",{children:[e.name,Object(p.jsxs)("p",{children:[e.quantity_purchased," x ",T(e.cost)]})]},e.name)}))}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:["Total numbers of Items: ",a,Object(p.jsx)("br",{}),"Total Cost: ",T(r)]})]})})};var ne=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){fetch("/orders").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),Object(p.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(p.jsx)("h1",{children:"Completed Orders:"}),n.map((function(e){return"paid"===e.payment_status?Object(p.jsx)(te,{order:e},e.id):null}))]})};var ae=function(){var e=Object(a.useContext)(v).user;return Object(p.jsxs)(U.a,{defaultActiveKey:"orders",className:"mb-3",justify:!0,children:[Object(p.jsx)(D.a,{eventKey:"profile",title:"Profile",children:Object(p.jsx)(Z,{})}),Object(p.jsx)(D.a,{eventKey:"orders",title:"Orders",children:Object(p.jsx)(ne,{})}),e.admin_rights?Object(p.jsx)(D.a,{eventKey:"inventoryManagement",title:"Manage Inventory",children:Object(p.jsx)(Y,{})}):null]})},ce=n(114);var re=function(){var e=Object(a.useContext)(v).user;return Object(p.jsx)(p.Fragment,{children:e?Object(p.jsx)(ae,{}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsxs)(ce.a,{className:"w-50 d-flex flex-column align-items-center",style:{fontFamily:"Indie Flower"},variant:"info",children:[Object(p.jsx)(ce.a.Heading,{children:"Account Error: "}),Object(p.jsx)("p",{children:"Please login or Sign up to view Account page!"})]})})})};var se=function(e){var t=e.category,n=Object(d.o)();return Object(p.jsx)($.a,{style:{height:"250px",borderRadius:35},onClick:function(){return e=t.category_name,void n("/shop/".concat(e));var e},className:"category-card",children:Object(p.jsx)($.a.Body,{className:"d-flex flex-column justify-content-around",children:Object(p.jsx)("h1",{children:t.category_name})})})};var ie=function(){var e=Object(a.useContext)(z).categories;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{align:"center",className:"p-3",children:"Categories:"}),Object(p.jsx)(H.a,{xs:1,md:3,className:"g-4 d-flex justify-content-center",children:e.map((function(e){return Object(p.jsx)(B.a,{align:"center",children:Object(p.jsx)(se,{category:e})},e.id)}))})]})};var le=function(e){var t=e.item,n=t.item_name,c=t.price,s=t.description,i=t.quantity_available,l=t.photo_url,j=Object(a.useContext)(L),d=j.getItemQuantityInCart,u=j.addItemToCart,b=j.removeItemFromCart,m=j.deleteAllOfAnItemFromCart,h=d(t.id),O=Object(a.useState)(!1),x=Object(r.a)(O,2),f=x[0],v=x[1];return 0===i?v(!0):Object(p.jsxs)($.a,{children:[Object(p.jsx)($.a.Img,{as:"img",variant:"top",src:l,height:"400px",style:{objectFit:"contain"}}),Object(p.jsxs)($.a.Body,{className:"d-flex flex-column",children:[Object(p.jsx)($.a.Title,{children:n}),Object(p.jsx)($.a.Text,{children:s}),Object(p.jsxs)($.a.Text,{children:["Price: ",T(c)]}),0===h?Object(p.jsx)(o.a,{onClick:function(){return u(t.id)},disabled:!!f,children:f?"Sold out":"Add to Cart"}):h<=i?Object(p.jsxs)("div",{className:"d-flex align-items-center flex-column",style:{gap:".5rem"},children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{gap:".5rem"},children:[i>1?Object(p.jsx)(o.a,{onClick:function(){return b(t.id)},children:"-"}):null,Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"fs-3",children:h}),"in cart"]}),h===i?null:Object(p.jsx)(o.a,{onClick:function(){return u(t.id)},children:"+"})]}),Object(p.jsx)(o.a,{variant:"danger",size:"sm",onClick:function(){return m(t.id)},children:"Remove from cart"})]}):null]})]})};var oe=function(){var e=Object(d.q)().category_name,t=Object(a.useContext)(k).items.filter((function(t){return t.category_name===e}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h1",{align:"center",className:"p-3",children:[e,": "]}),Object(p.jsx)(H.a,{xs:1,md:3,className:"g-4",children:t.map((function(e){return Object(p.jsx)(B.a,{align:"center",children:Object(p.jsx)(le,{item:e})},e.id)}))})]})};var je=function(){var e=Object(a.useContext)(v),t=e.createNewUser,n=e.errors,c=Object(a.useState)({username:"",password:"",password_confirmation:"",full_name:"",address:"",city:"",state:"",zip_code:0,email:"",admin_rights:!1}),s=Object(r.a)(c,2),i=s[0],l=s[1];function j(e){l(Object(x.a)(Object(x.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))}return Object(p.jsxs)(f.a,{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(p.jsx)(H.a,{className:"mb-3",children:Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Full Name:"}),Object(p.jsx)(f.a.Control,{name:"full_name",type:"text",placeholder:"Enter Full Name",value:i.full_name,onChange:j})]})}),Object(p.jsxs)(H.a,{className:"mb-3",children:[Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Username:"}),Object(p.jsx)(f.a.Control,{name:"username",type:"text",placeholder:"Enter Username",value:i.username,onChange:j})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Email address:"}),Object(p.jsx)(f.a.Control,{name:"email",type:"email",placeholder:"email@example.com",value:i.email,onChange:j})]})]}),Object(p.jsxs)(H.a,{className:"mb-3",children:[Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Password:"}),Object(p.jsx)(f.a.Control,{name:"password",type:"password",placeholder:"Enter Password",value:i.password,onChange:j})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Confirm Password:"}),Object(p.jsx)(f.a.Control,{name:"password_confirmation",type:"password",placeholder:"Confirm Password",value:i.password_confirmation,onChange:j})]})]}),Object(p.jsx)(H.a,{className:"mb-3",children:Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Address:"}),Object(p.jsx)(f.a.Control,{name:"address",value:i.address,placeholder:"1234 Main St",onChange:j})]})}),Object(p.jsxs)(H.a,{className:"mb-3",children:[Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"City:"}),Object(p.jsx)(f.a.Control,{name:"city",value:i.city,onChange:j})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"State:"}),Object(p.jsx)(f.a.Select,{name:"state",value:i.state,onChange:j,children:X.map((function(e){return Object(p.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(p.jsxs)(f.a.Group,{as:B.a,children:[Object(p.jsx)(f.a.Label,{children:"Zip Code:"}),Object(p.jsx)(f.a.Control,{name:"zip_code",value:i.zip_code,onChange:j})]})]}),Object(p.jsx)(f.a.Text,{children:Object(p.jsx)("ul",{children:n.map((function(e){return Object(p.jsx)("li",{style:{color:"red"},children:Object(p.jsx)("strong",{children:e})})}))})}),Object(p.jsx)(o.a,{variant:"primary",type:"submit",children:"Create Account!"})]})},de=n.p+"static/media/hook-1727484.afe1986e.svg";var ue=function(){return localStorage.clear(),Object(p.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:[Object(p.jsx)("img",{src:de,height:"200",width:"200",alt:"green check for completed checkout",className:"me-2"}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsx)("h2",{className:"ms-2",children:"Thank you for your order!"}),Object(p.jsx)(u.c,{className:"ms-2",to:"/account",children:"Completed Orders"})]})]})};var be=function(){return Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsxs)(ce.a,{className:"w-50 d-flex flex-column align-items-center",style:{fontFamily:"Indie Flower"},variant:"danger",children:[Object(p.jsx)(ce.a.Heading,{children:"Transaction Error: "}),Object(p.jsx)("p",{children:"Oh no! it looks like the transaction either did not process or was cancelled. Your cart is still intact. When you are ready to check out please go back to the checkout button in the cart."})]})})},me=(n(104),n.p+"static/media/wxman-knits-icon.2a274784.jpg"),he=n(83),Oe=n.p+"static/media/IMG_2897.0ebf99f2.jpeg",xe=n.p+"static/media/IMG_4704.a4273379.jpeg",fe=n.p+"static/media/IMG_6879.48ccb92c.jpeg",pe=n.p+"static/media/IMG_4841.f0d9aa67.jpeg";var ve=function(){var e={objectFit:"cover",borderRadius:55};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)("img",{src:me,alt:"ball of yarn being unwound in the shape of a tornado",height:"300px"})}),Object(p.jsx)("div",{className:"d-flex justify-content-center my-5",children:Object(p.jsx)("h1",{style:{fontFamily:"Indie Flower",fontWeight:"bold"},children:"WELCOME TO WXMAN KNITS!"})}),Object(p.jsx)("div",{className:"d-flex justify-content-center my-5",style:{borderRadius:55},children:Object(p.jsxs)(H.a,{children:[Object(p.jsx)(B.a,{children:Object(p.jsx)($.a,{className:"mx-3 homeCard",children:Object(p.jsx)($.a.Img,{src:Oe,style:e})})}),Object(p.jsx)(B.a,{children:Object(p.jsx)($.a,{className:"mx-3 homeCard",children:Object(p.jsx)($.a.Img,{src:pe,style:e})})}),Object(p.jsx)(B.a,{children:Object(p.jsx)($.a,{className:"mx-3 homeCard",children:Object(p.jsx)($.a.Img,{src:fe,style:e})})})]})}),Object(p.jsx)(i.a,{fluid:!0,className:"d-flex justify-content-center",children:Object(p.jsx)($.a,{className:"mt-3 w-75 d-flex align-items-center border-0 shadow",style:{borderRadius:55},children:Object(p.jsxs)(H.a,{children:[Object(p.jsx)(B.a,{children:Object(p.jsx)($.a.Img,{src:xe,className:"m-4",style:{objectFit:"cover",borderRadius:45}})}),Object(p.jsx)(B.a,{children:Object(p.jsxs)($.a.Body,{children:[Object(p.jsx)($.a.Title,{style:{fontFamily:"Indie Flower",fontWeight:"bold",fontSize:"30px",textDecoration:"underline"},children:"ABOUT WXMAN KNITS:"}),Object(p.jsx)($.a.Text,{children:"Welcome to my site! A place for me, Bobby, to sell my finished knitted objects along with destash yarn. You might be asking yourself, what does the wx in wxman mean? Well us Meteorologists love to use wx as a shorthand for weather. As such, you guessed it, I am a weatherman and I also love to knit/crochet/craft! Enjoy and I hope you find something you like! Feel free to add me on any of the socials below!"}),Object(p.jsxs)($.a.Text,{className:"d-flex justify-content-around",children:[Object(p.jsx)("a",{title:"Wxman knits on Ravelry",className:"ravelryLink",href:"https://www.ravelry.com/people/Wxmanknits",target:"_blank",children:Object(p.jsx)(b.a,{icon:he.b,size:"2xl"})}),Object(p.jsx)("a",{title:"Wxman knits on Instagram",className:"instaLink",href:"https://www.instagram.com/wxmanknits/",target:"_blank",children:Object(p.jsx)(b.a,{icon:he.a,size:"2xl"})})]})]})})]})})})]})};var ge=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(S,{children:Object(p.jsx)(g,{children:Object(p.jsx)(M,{children:Object(p.jsxs)(q,{children:[Object(p.jsx)(P,{}),Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{path:"/",element:Object(p.jsx)(ve,{})}),Object(p.jsx)(d.a,{path:"/new_user",element:Object(p.jsx)(je,{})}),Object(p.jsx)(d.a,{path:"/account",element:Object(p.jsx)(re,{})}),Object(p.jsx)(d.a,{path:"/shop",element:Object(p.jsx)(ie,{})}),Object(p.jsx)(d.a,{path:"/shop/:category_name",element:Object(p.jsx)(oe,{})}),Object(p.jsx)(d.a,{path:"/checkout/complete",element:Object(p.jsx)(ue,{})}),Object(p.jsx)(d.a,{path:"/checkout/failure",element:Object(p.jsx)(be,{})})]})]})})})})})},ye=n(87);n.n(ye).a.createRoot(document.getElementById("root")).render(Object(p.jsx)(u.a,{children:Object(p.jsx)(ge,{})}))}},[[105,1,2]]]);
//# sourceMappingURL=main.dc31776c.chunk.js.map